{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from'axios';import Blog from\"./Blog\";import{jsx as _jsx}from\"react/jsx-runtime\";var Blogs=function Blogs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var sendRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/blog\");case 3:res=_context.sent;data=res.data;return _context.abrupt(\"return\",data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function sendRequest(){return _ref.apply(this,arguments);};}();useEffect(function(){sendRequest().then(function(data){setBlogs(data.blogs);});},[]);useEffect(function(){console.log(blogs);// Log the updated blogs state\n},[blogs]);// Trigger the effect whenever blogs state changes\nreturn/*#__PURE__*/_jsx(\"div\",{children:blogs&&blogs.map(function(blog,index){return/*#__PURE__*/_jsx(Blog,{id:blog._id,isUser:localStorage.getItem(\"userId\")===blog.user._id,title:blog.title,description:blog.description,imageURL:blog.image,userName:blog.user?blog.user.name:'',time:blog.timeposted},index);})});};export default Blogs;","map":{"version":3,"names":["React","useState","useEffect","axios","Blog","jsx","_jsx","Blogs","_useState","_useState2","_slicedToArray","blogs","setBlogs","sendRequest","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","get","sent","abrupt","t0","console","log","stop","apply","arguments","then","children","map","blog","index","id","_id","isUser","localStorage","getItem","user","title","description","imageURL","image","userName","name","time","timeposted"],"sources":["/workspaces/MERN-BLOG/frontend/src/components/Blogs.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport Blog from \"./Blog\";\r\n\r\nconst Blogs = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n\r\n  const sendRequest = async () => {\r\n    try {\r\n      const res = await axios.get(`/api/blog`);\r\n      const data = res.data;\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    sendRequest().then((data) => {\r\n      setBlogs(data.blogs);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(blogs); // Log the updated blogs state\r\n  }, [blogs]); // Trigger the effect whenever blogs state changes\r\n\r\n  return (\r\n    <div>\r\n      {blogs && blogs.map((blog, index) => (\r\n        <Blog\r\n          id={blog._id}\r\n          isUser={localStorage.getItem(\"userId\")===blog.user._id}\r\n          key={index}\r\n          title={blog.title}\r\n          description={blog.description}\r\n          imageURL={blog.image}\r\n          userName={blog.user ? blog.user.name : ''}\r\n          time={blog.timeposted} \r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Blogs;"],"mappings":"4WAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAA0BP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,GAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEE,CAAAtB,KAAK,CAACuB,GAAG,YAAY,CAAC,QAAlCP,GAAG,CAAAI,QAAA,CAAAI,IAAA,CACHP,IAAI,CAAGD,GAAG,CAACC,IAAI,QAAAG,QAAA,CAAAK,MAAA,UACdR,IAAI,SAAAG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAEXO,OAAO,CAACC,GAAG,CAAAR,QAAA,CAAAM,EAAM,CAAC,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAd,OAAA,gBAEtB,kBARK,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAQhB,CAEDhC,SAAS,CAAC,UAAM,CACdW,WAAW,CAAC,CAAC,CAACsB,IAAI,CAAC,SAACf,IAAI,CAAK,CAC3BR,QAAQ,CAACQ,IAAI,CAACT,KAAK,CAAC,CACtB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAENT,SAAS,CAAC,UAAM,CACd4B,OAAO,CAACC,GAAG,CAACpB,KAAK,CAAC,CAAE;AACtB,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAAE;AAEb,mBACEL,IAAA,QAAA8B,QAAA,CACGzB,KAAK,EAAIA,KAAK,CAAC0B,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAC9BjC,IAAA,CAACF,IAAI,EACHoC,EAAE,CAAEF,IAAI,CAACG,GAAI,CACbC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,GAAGN,IAAI,CAACO,IAAI,CAACJ,GAAI,CAEvDK,KAAK,CAAER,IAAI,CAACQ,KAAM,CAClBC,WAAW,CAAET,IAAI,CAACS,WAAY,CAC9BC,QAAQ,CAAEV,IAAI,CAACW,KAAM,CACrBC,QAAQ,CAAEZ,IAAI,CAACO,IAAI,CAAGP,IAAI,CAACO,IAAI,CAACM,IAAI,CAAG,EAAG,CAC1CC,IAAI,CAAEd,IAAI,CAACe,UAAW,EALjBd,KAMN,CAAC,EACH,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}