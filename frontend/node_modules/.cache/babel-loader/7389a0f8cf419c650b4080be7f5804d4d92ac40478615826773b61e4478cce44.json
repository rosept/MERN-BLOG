{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import React from'react';import{useCallback}from'react';import{Avatar,Card,CardContent,CardMedia,CardHeader,Typography,IconButton,Box}from'@mui/material';import ModeEditOutlineIcon from'@mui/icons-material/ModeEditOutline';import DeleteForeverIcon from'@mui/icons-material/DeleteForever';import{useNavigate}from'react-router-dom';import Swal from'sweetalert2';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blog=function Blog(_ref){var title=_ref.title,description=_ref.description,imageURL=_ref.imageURL,userName=_ref.userName,isUser=_ref.isUser,id=_ref.id,time=_ref.time;var navigate=useNavigate();var handleEdit=function handleEdit(e){navigate(\"/myBlogs/\".concat(id));};var deleteRequest=function deleteRequest(){return new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resolve,reject){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"http://localhost:5000/api/blog/\".concat(id));case 3:res=_context.sent;data=res.data;if(!data){_context.next=10;break;}_context.next=8;return Swal.fire({icon:'success',title:'Success',text:'Successfully Delete Blog',timeout:2000});case 8:_context.next=11;break;case 10:throw new Error(\"Couldn't delete blog\");case 11:console.log(\"Successfully delete\");_context.next=20;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);_context.next=19;return Swal.fire({icon:'error',title:'Error',text:'Failed to Delete Blog',timeout:2000});case 19:reject(_context.t0);case 20:resolve(window.location.href);case 21:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());};var handleDelete=function handleDelete(){deleteRequest().then(function(path){return window.location.href=path;});// .then(()=>navigate(\"/blogs\"));\n};var convertTimestampToDate=useCallback(function(value){var datevalue=new Date(value);var months=['January','February','March','April','May','June','July','August','September','October','November','December'];return months[datevalue.getMonth()]+' '+datevalue.getDate()+', '+datevalue.getFullYear();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{sx:{width:\"30%\",margin:'auto',mt:2,padding:2,backgroundColor:'black',boxShadow:\"5px 5px 10px #ccc\",\":hover\":{boxShadow:\"10px 10px 20px #ccc\"}},children:[isUser&&/*#__PURE__*/_jsxs(Box,{display:\"flex\",children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleEdit,sx:{marginLeft:'auto'},children:/*#__PURE__*/_jsx(ModeEditOutlineIcon,{sx:{color:'pink'}})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(DeleteForeverIcon,{onClick:handleDelete,sx:{color:'pink'}})})]}),/*#__PURE__*/_jsx(CardHeader,{avatar:/*#__PURE__*/_jsx(Avatar,{sx:{backgroundColor:'pink'},\"aria-label\":\"recipe\",children:userName.charAt(0)}),title:/*#__PURE__*/_jsx(Typography,{sx:{color:'pink'},variant:\"h6\",component:\"div\",children:title}),subheader:/*#__PURE__*/_jsx(Typography,{sx:{color:'pink'},variant:\"subtitle2\",component:\"div\",children:convertTimestampToDate(time)})}),/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"194\",image:imageURL,alt:\"Blackpink\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"pink\",children:[/*#__PURE__*/_jsxs(\"b\",{children:[userName,\" \"]}),\" \",\":\",\" \",description]})]})]})});};export default Blog;","map":{"version":3,"names":["axios","React","useCallback","Avatar","Card","CardContent","CardMedia","CardHeader","Typography","IconButton","Box","ModeEditOutlineIcon","DeleteForeverIcon","useNavigate","Swal","jsx","_jsx","jsxs","_jsxs","Blog","_ref","title","description","imageURL","userName","isUser","id","time","navigate","handleEdit","e","concat","deleteRequest","Promise","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resolve","reject","res","data","wrap","_callee$","_context","prev","next","delete","sent","fire","icon","text","timeout","Error","console","log","t0","window","location","href","stop","_x","_x2","apply","arguments","handleDelete","then","path","convertTimestampToDate","value","datevalue","Date","months","getMonth","getDate","getFullYear","children","sx","width","margin","mt","padding","backgroundColor","boxShadow","display","onClick","marginLeft","color","avatar","charAt","variant","component","subheader","height","image","alt"],"sources":["/workspaces/MERN-BLOG/frontend/src/components/Blog.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react'\r\nimport { useCallback } from 'react';\r\nimport { Avatar, Card, CardContent, CardMedia, CardHeader, Typography, IconButton , Box} from '@mui/material'\r\nimport ModeEditOutlineIcon from '@mui/icons-material/ModeEditOutline';\r\nimport DeleteForeverIcon from '@mui/icons-material/DeleteForever';\r\nimport {useNavigate} from 'react-router-dom'\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nconst Blog = ({title,description,imageURL,userName, isUser,id, time}) => {\r\n   const navigate = useNavigate();\r\n   const handleEdit = (e) => {\r\n   navigate(`/myBlogs/${id}`);\r\n   };\r\n  const deleteRequest = () => new Promise(async(resolve, reject) => {\r\n    try {\r\n      const res = await axios.delete(`http://localhost:5000/api/blog/${id}`)\r\n      const data = res.data;\r\n      if (data) {\r\n        await Swal.fire({\r\n          icon: 'success',\r\n          title: 'Success',\r\n          text: 'Successfully Delete Blog',\r\n          timeout: 2000,\r\n        })\r\n      } else {\r\n        throw new Error(\"Couldn't delete blog\");\r\n      }\r\n      console.log(\"Successfully delete\");\r\n    } catch (err) {\r\n      console.log(err)\r\n      await Swal.fire({\r\n        icon: 'error',\r\n        title: 'Error',\r\n        text: 'Failed to Delete Blog',\r\n        timeout: 2000,\r\n      })\r\n      reject(err)\r\n    }\r\n    resolve(window.location.href)\r\n  })\r\n  const handleDelete = () => {\r\n    deleteRequest()\r\n    .then((path)=> window.location.href = path)\r\n    // .then(()=>navigate(\"/blogs\"));\r\n  };\r\n\r\n  const convertTimestampToDate = useCallback((value) => {\r\n    const datevalue = new Date(value);\r\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];  \r\n    return months[datevalue.getMonth()] + ' ' + datevalue.getDate() + ', ' + datevalue.getFullYear();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n        <Card sx={{ width: \"30%\", \r\n        margin:'auto',mt:2, \r\n        padding: 2, \r\n        backgroundColor: 'black',\r\n        boxShadow: \"5px 5px 10px #ccc\",  \r\n        \":hover\": {\r\n        boxShadow: \"10px 10px 20px #ccc\"\r\n            \r\n        }}}>\r\n      {isUser && (\r\n       <Box display=\"flex\">\r\n       <IconButton onClick={handleEdit} sx={{ marginLeft: 'auto' }}>\r\n         <ModeEditOutlineIcon sx={{ color: 'pink' }} />\r\n       </IconButton>\r\n       <IconButton>\r\n         <DeleteForeverIcon onClick={handleDelete} sx={{ color: 'pink' }} />\r\n       </IconButton>\r\n     </Box>\r\n\r\n      )}\r\n\r\n\r\n      <CardHeader\r\n         avatar={\r\n    <Avatar sx={{ backgroundColor: 'pink' }} aria-label=\"recipe\">\r\n      {userName.charAt(0)}\r\n    </Avatar>\r\n  }\r\n        title={\r\n    <Typography sx={{ color: 'pink' }} variant=\"h6\" component=\"div\">\r\n      {title}\r\n    </Typography>\r\n  }\r\n  subheader={\r\n    <Typography sx={{ color: 'pink' }} variant=\"subtitle2\" component=\"div\">\r\n      {convertTimestampToDate(time)}\r\n    </Typography>\r\n  }\r\n/>\r\n      <CardMedia\r\n        component=\"img\"\r\n        height=\"194\"\r\n        image={imageURL}\r\n        alt=\"Blackpink\"\r\n      />\r\n     \r\n      <CardContent>\r\n      <hr />\r\n      <br/>\r\n        <Typography variant=\"body2\" color=\"pink\">\r\n       <b>{ userName } </b> {\":\"} {description}\r\n        </Typography>\r\n      </CardContent>\r\n\r\n    </Card>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}