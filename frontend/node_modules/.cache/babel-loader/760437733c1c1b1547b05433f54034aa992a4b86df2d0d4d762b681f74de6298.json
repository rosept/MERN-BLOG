{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspaces/MERN-BLOG/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{Typography,TextField,Button,InputLabel}from'@mui/material';import{Box}from'@mui/system';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var labelStyles={mb:1,mt:2,fontSize:'20px',fontWeight:'bold'};var BlogDetail=function BlogDetail(){var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),blog=_useState2[0],setBlog=_useState2[1];var id=useParams().id;var _useState3=useState({// title: '',\n// description: '',\n}),_useState4=_slicedToArray(_useState3,2),inputs=_useState4[0],setInputs=_useState4[1];var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var fetchDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/blog/\".concat(id)).catch(function(err){return console.log(err);});case 2:res=_context.sent;_context.next=5;return res.data;case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchDetails(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchDetails().then(function(data){setBlog(data.blog);setInputs({title:data.blog.title,description:data.blog.description});});},[id]);var sendRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"/api/blog/update/\".concat(id),{title:inputs.title,description:inputs.description}).catch(function(err){return console.log(err);});case 2:res=_context2.sent;_context2.next=5;return res.data;case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function sendRequest(){return _ref2.apply(this,arguments);};}();console.log(blog);var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(inputs);sendRequest().then(function(data){return console.log(data);}).then(function(){return navigate(\"/myBlogs/\");});};return/*#__PURE__*/_jsx(\"div\",{children:blog&&/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{border:3,borderColor:\"black\",borderRadius:10,boxShadow:\"10px 10px 20px #ccc\",padding:3,margin:\"auto\",marginTop:5,display:\"flex\",flexDirection:\"column\",width:\"50%\",sx:{backgroundColor:'pink'},children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",padding:3,color:\"black\",variant:\"h4\",textAlign:\"center\",children:\"Post Your Blog\"}),/*#__PURE__*/_jsx(InputLabel,{sx:labelStyles,children:\"Title\"}),/*#__PURE__*/_jsx(TextField,{name:\"title\",onChange:handleChange,value:inputs.title,margin:\"auto\",variant:\"outlined\"}),/*#__PURE__*/_jsx(InputLabel,{sx:labelStyles,children:\"Description\"}),/*#__PURE__*/_jsx(TextField,{name:\"description\",onChange:handleChange,value:inputs.description,margin:\"auto\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{sx:{mt:2,borderRadius:4,backgroundColor:'black',color:'pink'},variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Submit\"})]})})});};export default BlogDetail;","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","useNavigate","Typography","TextField","Button","InputLabel","Box","jsx","_jsx","jsxs","_jsxs","labelStyles","mb","mt","fontSize","fontWeight","BlogDetail","navigate","_useState","_useState2","_slicedToArray","blog","setBlog","id","_useState3","_useState4","inputs","setInputs","handleChange","e","prevState","_objectSpread","_defineProperty","target","name","value","fetchDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","get","concat","catch","err","console","log","sent","abrupt","stop","apply","arguments","then","title","description","sendRequest","_ref2","_callee2","_callee2$","_context2","put","handleSubmit","preventDefault","children","onSubmit","border","borderColor","borderRadius","boxShadow","padding","margin","marginTop","display","flexDirection","width","sx","backgroundColor","color","variant","textAlign","onChange","type"],"sources":["/workspaces/MERN-BLOG/frontend/src/components/BlogDetail.js"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState} from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Typography, TextField, Button, InputLabel } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\n\r\n\r\nconst labelStyles = { mb: 1, mt: 2, fontSize: '20px', fontWeight: 'bold' };\r\n\r\nconst BlogDetail = () => {\r\n  const navigate = useNavigate();\r\n  const [blog, setBlog] = useState();\r\n  const  id  = useParams().id;\r\n  const [inputs, setInputs] = useState({\r\n    // title: '',\r\n    // description: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setInputs((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const fetchDetails = async () => {\r\n      const res = await axios.get(`/api/blog/${id}`)\r\n       .catch((err) => console.log(err));\r\n      const data = await res.data;\r\n      return data;\r\n    } ;\r\n  \r\n  useEffect(() => {\r\n    fetchDetails().then((data) => {\r\n    setBlog(data.blog);\r\n    setInputs({\r\n        title: data.blog.title,\r\n        description: data.blog.description,\r\n      });\r\n    });\r\n  }, [id]);\r\n\r\n\r\n  const sendRequest = async () => {\r\n      const res = await axios.put(`/api/blog/update/${id}`, {\r\n        title: inputs.title,\r\n        description: inputs.description,\r\n      })\r\n      \r\n      .catch((err) => console.log(err));\r\n\r\n      const data = await res.data;\r\n      return data;\r\n    } \r\n    \r\n    console.log(blog);\r\n    const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(inputs);\r\n    sendRequest().then(data=>console.log(data))\r\n    .then(()=>navigate(\"/myBlogs/\"));\r\n\r\n    };\r\n\r\n  return (\r\n    <div>\r\n      {blog && (\r\n        <form onSubmit={handleSubmit}>\r\n          <Box\r\n            border={3}\r\n            borderColor=\"black\"\r\n            borderRadius={10}\r\n            boxShadow=\"10px 10px 20px #ccc\"\r\n            padding={3}\r\n            margin=\"auto\"\r\n            marginTop={5}\r\n            display=\"flex\"\r\n            flexDirection=\"column\"\r\n            width=\"50%\"\r\n            sx={{ backgroundColor: 'pink' }}\r\n          >\r\n            <Typography\r\n              fontWeight=\"bold\"\r\n              padding={3}\r\n              color=\"black\"\r\n              variant=\"h4\"\r\n              textAlign=\"center\"\r\n            >\r\n              Post Your Blog\r\n            </Typography>\r\n            <InputLabel sx={labelStyles}>Title</InputLabel>\r\n            <TextField\r\n              name=\"title\"\r\n              onChange={handleChange}\r\n              value={inputs.title}\r\n              margin=\"auto\"\r\n              variant=\"outlined\"\r\n            />\r\n\r\n            <InputLabel sx={labelStyles}>Description</InputLabel>\r\n            <TextField\r\n              name=\"description\"\r\n              onChange={handleChange}\r\n              value={inputs.description}\r\n              margin=\"auto\"\r\n              variant=\"outlined\"\r\n            />\r\n\r\n            <Button\r\n              sx={{\r\n                mt: 2,\r\n                borderRadius: 4,\r\n                backgroundColor: 'black',\r\n                color: 'pink',\r\n              }}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              type=\"submit\"\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Box>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}