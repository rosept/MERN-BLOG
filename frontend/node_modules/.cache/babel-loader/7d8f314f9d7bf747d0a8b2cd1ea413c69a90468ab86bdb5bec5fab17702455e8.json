{"ast":null,"code":"import React,{useEffect}from'react';import{Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import Auth from'./components/Auth';import Blogs from'./components/Blogs';import AddBlog from'./components/AddBlog';import UserBlogs from'./components/UserBlogs';import BlogDetail from'./components/BlogDetail';import{useSelector,useDispatch}from'react-redux';import{authActions}from\"./store\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispath=useDispatch();var isLoggedIn=useSelector(function(state){return state.isLoggedIn;});console.log(isLoggedIn);useEffect(function(){if(localStorage.getItem(\"userId\")){dispath(authActions.login());}},[dispath,isLoggedIn]);var RedirectTo=function RedirectTo(_ref){var _ref$to=_ref.to,to=_ref$to===void 0?'/auth/login':_ref$to;useEffect(function(){if(window.location.pathname!==to){window.location.replace(to);}},[]);return/*#__PURE__*/_jsx(_Fragment,{});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Routes,{children:!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(RedirectTo,{to:\"/auth/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/login\",element:/*#__PURE__*/_jsx(Auth,{isSignUp:false})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/signup\",element:/*#__PURE__*/_jsx(Auth,{isSignUp:true})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RedirectTo,{to:\"/auth/login\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:function element(){return/*#__PURE__*/_jsx(Navigate,{to:\"/blogs\"});}}),/*#__PURE__*/_jsx(Route,{path:\"/blogs\",element:/*#__PURE__*/_jsx(Blogs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/blogs/add\",element:/*#__PURE__*/_jsx(AddBlog,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myBlogs\",element:/*#__PURE__*/_jsx(UserBlogs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/myBlogs/:id\",element:/*#__PURE__*/_jsx(BlogDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RedirectTo,{to:\"/blogs\"})})]})})})]});}export default App;","map":{"version":3,"names":["React","useEffect","Routes","Route","Navigate","Header","Auth","Blogs","AddBlog","UserBlogs","BlogDetail","useSelector","useDispatch","authActions","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","App","dispath","isLoggedIn","state","console","log","localStorage","getItem","login","RedirectTo","_ref","_ref$to","to","window","location","pathname","replace","children","path","element","isSignUp"],"sources":["/workspaces/MERN-BLOG/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport Header from './components/Header';\nimport Auth from './components/Auth';\nimport Blogs from './components/Blogs';\nimport AddBlog from './components/AddBlog';\nimport UserBlogs from './components/UserBlogs';\nimport BlogDetail from './components/BlogDetail';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { authActions } from \"./store\";\n\nfunction App() {\n  const dispath = useDispatch();\n\n  const isLoggedIn = useSelector(state => state.isLoggedIn);\n  console.log(isLoggedIn);\n  useEffect(() => { \n    if(localStorage.getItem(\"userId\")) {\n       dispath(authActions.login());\n    }\n\n  }, [dispath, isLoggedIn]);\n\n  const RedirectTo = ({ to='/auth/login' }) => {\n    useEffect(() => {\n      if (window.location.pathname !== to) {\n        window.location.replace(to)\n      }\n    }, []);\n    return <></>\n  }\n\n  return (\n    <React.Fragment>\n      <header>\n        <Header />\n      </header>\n      <main>\n        <Routes>\n          {!isLoggedIn ? (<>\n            <Route path=\"/auth\" element={<RedirectTo to=\"/auth/login\" />} />\n            <Route path=\"/auth/login\" element={<Auth isSignUp={false} />} />\n            <Route path=\"/auth/signup\" element={<Auth isSignUp={true} />} />\n            <Route path=\"/\" element={<RedirectTo to=\"/auth/login\" />} />\n          </>) : (\n            <>\n              <Route path=\"/auth\" element={() => <Navigate to=\"/blogs\" />} />\n              <Route path=\"/blogs\" element={<Blogs />} />\n              <Route path=\"/blogs/add\" element={<AddBlog />} />\n              <Route path=\"/myBlogs\" element={<UserBlogs />} />\n              <Route path=\"/myBlogs/:id\" element={<BlogDetail />} />\n              <Route path=\"/\" element={<RedirectTo to=\"/blogs\" />} />\n            </>\n          )}\n        </Routes>\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}